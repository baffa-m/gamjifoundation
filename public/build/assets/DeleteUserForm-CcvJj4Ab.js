import{c as y,E as C,o as m,h as x,i as T,G as S,H as M,y as U,a as e,d,w,m as h,I as D,T as $,n as i,b as V,x as A,u as s,f,B as z,$ as O,a0 as j,g as E,Y as I}from"./app-5_hOrnAW.js";import{_ as L}from"./InputError-Vi1-mpuD.js";import{u as N}from"./useTheme-CRVpJ3fT.js";import{T as k}from"./triangle-alert-Dtrb19Yp.js";import{L as F,E as P}from"./lock-FQU4RJHn.js";import{E as W}from"./eye-CZ7opgaH.js";import"./createLucideIcon-gRqq9OXS.js";const H=(n,o)=>{const a=n.__vccOpts||n;for(const[p,c]of o)a[p]=c;return a},K={},Y={class:"inline-flex items-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:bg-red-700"};function G(n,o){return m(),y("button",Y,[C(n.$slots,"default")])}const B=H(K,[["render",G]]),q={class:"fixed inset-0 z-50 overflow-y-auto px-4 py-6 sm:px-0","scroll-region":""},J={__name:"Modal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(n,{emit:o}){const a=n,p=o,c=x(),r=x(a.show);T(()=>a.show,()=>{a.show?(document.body.style.overflow="hidden",r.value=!0,c.value?.showModal()):(document.body.style.overflow="",setTimeout(()=>{c.value?.close(),r.value=!1},200))});const l=()=>{a.closeable&&p("close")},g=u=>{u.key==="Escape"&&(u.preventDefault(),a.show&&l())};S(()=>document.addEventListener("keydown",g)),M(()=>{document.removeEventListener("keydown",g),document.body.style.overflow=""});const b=U(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[a.maxWidth]);return(u,_)=>(m(),y("dialog",{class:"z-50 m-0 min-h-full min-w-full overflow-y-auto bg-transparent backdrop:bg-transparent",ref_key:"dialog",ref:c},[e("div",q,[d($,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:w(()=>[h(e("div",{class:"fixed inset-0 transform transition-all",onClick:l},[..._[0]||(_[0]=[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1)])],512),[[D,n.show]])]),_:1}),d($,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:w(()=>[h(e("div",{class:i(["mb-6 transform overflow-hidden rounded-lg bg-white shadow-xl transition-all sm:mx-auto sm:w-full",b.value])},[r.value?C(u.$slots,"default",{key:0}):V("",!0)],2),[[D,n.show]])]),_:3})])],512))}},Q=["type"],R={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(n){return(o,a)=>(m(),y("button",{type:n.type,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-semibold uppercase tracking-widest text-gray-700 shadow-sm transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25"},[C(o.$slots,"default")],8,Q))}},X={class:"space-y-6"},Z={class:"p-6 sm:p-8"},ee={class:"flex items-start gap-4 mb-6"},se={class:"w-14 h-14 rounded-xl bg-red-100 dark:bg-red-900/30 flex items-center justify-center flex-shrink-0"},te={class:"flex-grow"},oe={class:"mb-6"},ae={class:"flex items-start gap-3 cursor-pointer group"},le={class:"space-y-2 mb-6"},re={class:"relative group"},ne={class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},ie=["type","disabled"],de=["disabled"],ce={class:"flex flex-col-reverse sm:flex-row justify-end gap-3"},ue={key:0,class:"flex items-center gap-2"},me={key:1,class:"flex items-center gap-2"},be={__name:"DeleteUserForm",setup(n){const{isDark:o}=N(),a=x(!1),p=x(null),c=x(!1),r=x(!1),l=A({password:""}),g=()=>{a.value=!0,r.value=!1,I(()=>p.value?.focus?.())},b=()=>{l.delete(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>u(),onFinish:()=>l.reset()})},u=()=>{a.value=!1,r.value=!1,l.clearErrors(),l.reset()};return(_,t)=>(m(),y("section",X,[e("header",null,[e("h2",{class:i(["text-lg font-bold",s(o)?"text-white":"text-slate-900"])}," Delete Account ",2),e("p",{class:i(["mt-1 text-sm",s(o)?"text-slate-400":"text-slate-500"])}," Once your account is deleted, all of its resources and data will be permanently deleted. ",2)]),d(B,{onClick:g,class:"w-full sm:w-auto"},{default:w(()=>[d(s(k),{class:"w-4 h-4 mr-2"}),t[4]||(t[4]=f(" Delete Account ",-1))]),_:1}),d(J,{show:a.value,onClose:u},{default:w(()=>[e("div",Z,[e("div",ee,[e("div",se,[d(s(k),{class:"w-7 h-7 text-red-600 dark:text-red-400"})]),e("div",te,[e("h2",{class:i(["text-2xl font-bold font-display",s(o)?"text-white":"text-slate-900"])}," Delete Account? ",2),e("p",{class:i(["mt-1 text-sm",s(o)?"text-slate-400":"text-slate-600"])}," This action cannot be undone ",2)])]),e("div",{class:i(["p-4 rounded-lg border-2 mb-6",s(o)?"bg-red-950/30 border-red-900/50":"bg-red-50 border-red-200"])},[e("p",{class:i(["text-sm leading-relaxed",s(o)?"text-red-200":"text-red-800"])},[...t[5]||(t[5]=[f(" Once your account is deleted, all of its resources and data will be ",-1),e("strong",null,"permanently deleted",-1),f(". Please enter your password to confirm you would like to permanently delete your account. ",-1)])],2)],2),e("div",oe,[e("label",ae,[h(e("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=v=>r.value=v),class:"w-5 h-5 mt-0.5 text-red-600 border-slate-300 dark:border-slate-600 rounded focus:ring-red-500 focus:ring-offset-0 transition-all"},null,512),[[z,r.value]]),e("span",{class:i(["text-sm select-none",s(o)?"text-slate-300":"text-slate-700"])},[...t[6]||(t[6]=[f(" I understand this action is ",-1),e("strong",{class:"font-bold text-red-600 dark:text-red-400"},"permanent and irreversible",-1)])],2)])]),e("div",le,[e("label",{for:"password",class:i(["block text-sm font-semibold",s(o)?"text-slate-300":"text-slate-700"])}," Confirm with Password ",2),e("div",re,[e("div",ne,[d(s(F),{class:"h-5 w-5 text-slate-400 group-focus-within:text-red-500 transition-colors"})]),h(e("input",{id:"password",ref_key:"passwordInput",ref:p,"onUpdate:modelValue":t[1]||(t[1]=v=>s(l).password=v),type:c.value?"text":"password",class:i(["input-premium pl-12 pr-12",{"border-red-500 focus:border-red-500 focus:ring-red-100":s(l).errors.password}]),placeholder:"Enter your password",onKeyup:t[2]||(t[2]=O(v=>r.value&&b(),["enter"])),disabled:!r.value},null,42,ie),[[j,s(l).password]]),e("button",{type:"button",onClick:t[3]||(t[3]=v=>c.value=!c.value),class:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors",disabled:!r.value},[c.value?(m(),E(s(P),{key:1,class:"h-5 w-5"})):(m(),E(s(W),{key:0,class:"h-5 w-5"}))],8,de)]),d(L,{message:s(l).errors.password,class:"mt-2"},null,8,["message"])]),e("div",ce,[d(R,{onClick:u,class:"w-full sm:w-auto justify-center"},{default:w(()=>[...t[7]||(t[7]=[f(" Cancel ",-1)])]),_:1}),d(B,{class:i([{"opacity-50 cursor-not-allowed":s(l).processing||!r.value},"w-full sm:w-auto justify-center"]),disabled:s(l).processing||!r.value,onClick:b},{default:w(()=>[s(l).processing?(m(),y("span",me,[...t[9]||(t[9]=[e("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),f(" Deleting... ",-1)])])):(m(),y("span",ue,[d(s(k),{class:"w-4 h-4"}),t[8]||(t[8]=f(" Yes, Delete Account ",-1))]))]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]))}};export{be as default};
